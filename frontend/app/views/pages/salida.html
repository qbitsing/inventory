<h2 class="titulo-pagina blue accent-4 right-align {{pageAnimate}}">Gestion de salidas</h2>
<div class="contenido">
	<div class="row">
		<div class="col s12">
			<div class="card-panel {{panelAnimate}}">
				<div class="panel-heading blue accent-4">
					<h3 class="panel-title">{{panel_title_form}}</h3>
				</div>
				<div class="panel-body" >
					<form name="formSalida" ng-submit="EnviarSalida()">
						<div class="row">
							<div class="input-field col s12 m6 l6">
								<select ng-change="CargarOrden()" id="orden" ng-model="Orden.venta" material-select watch>
	      							<option ng-repeat="orden in Ordenes" value="{{orden._id}}">{{orden.consecutivo}}-{{orden.cliente.nombre}}</option>
								</select>
								<label for="orden">Orden de venta *</label>
							</div>
							<div class="input-field col s12 m6 l6">
								<label for="numero_interno">Numero de orden interna *</label>
								<input type="text" ng-disabled="true" ng-model="Salida.orden_venta.numero_interno" id="numero_interno" name="numero_interno" required>
							</div>
						</div>
						<div class="row">
							<div class="input-field col s12 m6 l6">
								<label for="Cliente">Cliente *</label>
								<input type="text" ng-disabled="true" ng-model="Salida.orden_venta.cliente.nombre" id="Cliente" name="Cliente" required>
							</div>
							<div class="input-field col s12 m6 l6" ng-hide="Salida.orden_venta.productos.length<1">
								<table class="highlight">
							        <thead>
							        	<tr>
											<th data-field="producto">Producto</th>
											<th data-field="cantidad">Cantidad</th>
											<th data-field="faltante">Cantidad faltante</th>
											<th data-field="entrante">Cantidad entrante</th>
							          	</tr>
							        </thead>
							        <tbody>
							          	<tr ng-repeat="producto in Salida.orden_venta.productos">
								            <td>{{producto.nombre}}</td>
											<td>{{producto.cantidad}}</td>
								            <td>{{producto.cantidad_faltante}}</td>
								            <td><input type="text"  value="{{producto.cantidad_faltante}}" id="cantidad{{producto._id}}" name="cantidad"></td>
							          	</tr>
							        </tbody>
						      	</table>
							</div>
						</div>
						<div class="row">
							<div class="input-field col s12 m6 l6">
					            <textarea id="observaciones" ng-model="Salida.observaciones" class="materialize-textarea" data-length="120"></textarea>
					            <label for="observaciones">Observaciones</label>
				          	</div>
						</div>
						<div class="row">
							<div class="col">
								<button type="submit" class="btn btn-large blue accent-4" ng-disabled="formSalida.$invalid">{{button_title_form}}</button>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col s12">
			<div class="card-panel {{panelAnimate}}">
				<div class="panel-heading blue accent-4">
					<h3 class="panel-title">Lista de Salidas</h3>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col s12">
							<div class="gridStyle grid" ui-grid="gridOptions" ui-grid-pagination ui-grid-auto-resize ui-grid-resize-columns ui-grid-move-columns></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>